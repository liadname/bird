<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
		<!--<iframe id="iframe" src="http://192.168.1.4:8020/mylife/test2.html">-->
			<style type="text/css">
				.test_Copywriting,.test_Copywriting1{
					width: 100px;
					height: 100px;
					background-color: #fff;
				}
				.test_Copywriting:hover{
					background-color: red;
				}
				.test_Copywriting{
					transition: background-color 1s ease;
				}
				.test_Copywriting1{
					transform: translateX(20px);
					background: #FFE4C4;
				}
			</style>
	</head>
	<body>
		<span class="name"> aabb一头小毛驴</span>
		<div class="test_Copywriting"></div>
		<div class="test_Copywriting1"></div>
		<button class="clickheight"> 点我展开列表</button>
	</body>
	<script type="text/javascript">
		
		function aa(){
		
	 		alert(111);
		
		}
		
		
		
		//我太牛逼了
		function cutstr(str,len){
			var str_length = -1;
			var Liadi = -1;
			str_cut = new String(); //新建一个字符串
			var str_len = str.length; //字符串的长度
			for(var i = 0; i < str_len ;i++){ //遍历了字符串的长度
				 a = str.charAt(i);//转成编码格式
//				 str_length ++; // 这玩意在那加加啥呢  不懂
				 str_cut = str_cut.concat(a);
				 Liadi = str.charCodeAt(i);
				if(Liadi >= 0 && Liadi <= 128){
					str_length += 1;
				}else{
					str_length += 2;
				}
				 if(str_length >= len){
				 	str_cut = str_cut.concat("...");
				 	return str_cut;
				 }
			}
			
			if(str_length < len){
				return str;
			}
		}
		
		
		var Getlength = function(str){
			var reallength = -1 , // 啥玩意
			len = str.length, // 字符串长度
			charCode = -1; // 数字
			for(var i = 0; i<len; i++){
				charCode = str.charCodeAt(i);
				if(charCode >= 0 && charCode <= 128){
					reallength += 1;
				}else{
					reallength += 2;
				}
			}
			return reallength;
		};
		var b = $('.name').text();
		var c = Getlength(b);
		$('.name').html(cutstr(b,10));
//		var  a =  document.getElementById('').contentWindow.document.getElementById('backPrev');
//		alert(navigator.userAgent);



//	封装iframe
//		function iff (b){
//			document.getElementById("iframe").contentWindow.ff(b);
//		}
//		
//	  var ss = 1+3; 
// 	  function ff(ss){
// 	  	external.nativeCall("TestExecuteJS", [ss, "device_id"] ,tt(ss));
// 	  }
// 	  ff(ss);
// 	  function tt(ss){
// 	  	console.log(ss);
// 	  }
 	  
 	 
// 	 function say (value) {
//	    alert(value);
//	}
//	function execute (someFunction, value) {
//  	someFunction(value);
//	}
//	
	
	
	
//	execute(say, 'hi js.');
//	var data={a:1,b:2,c:3};
//	function toArr(obj){
//         var arr1=[];
//         for(var i in obj){
//         	alert(obj[i]);
//             arr1.push(obj[i]);
//         }
//         return arr1;
//         // arr1.fitter(function(x){console.log(arr1(x))});
//	}
//	console.log(toArr(data));




	</script>
</html>
