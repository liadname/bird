(function(doc,win){var ratio=window.devicePixelRatio||1;var scale=Math.round(1/ratio*100)/100;window.scale=scale;var metaEl=doc.createElement("meta");metaEl.setAttribute("name","viewport");metaEl.setAttribute("content","width=device-width, initial-scale="+scale+", maximum-scale="+scale+", minimum-scale="+scale+", user-scalable=no");doc.getElementsByTagName("head")[0].appendChild(metaEl);var docEl=doc.documentElement;var resizeEvt="orientationchange"in window?"orientationchange":"resize";var recalc=function(){var clientWidth=docEl.clientWidth;if(!clientWidth)return;docEl.style.fontSize=100*(clientWidth/750)+"px"};var userMove=function(){var content=doc.querySelector("div[scroll]");var startY;if(!content)return true;content.addEventListener("touchstart",function(e){startY=e.touches[0].clientY});content.addEventListener("touchmove",function(e){var status="11";var ele=this;var currentY=e.touches[0].clientY;if(ele.scrollTop===0){status=ele.offsetHeight>=ele.scrollHeight?"00":"01"}else if(ele.scrollTop+ele.offsetHeight>=ele.scrollHeight){status="10"}if(status!="11"){var direction=currentY-startY>0?"10":"01";if(!(parseInt(status,2)&parseInt(direction,2))){e.preventDefault();e.stopPropagation()}}})};var init=function(){(function(){var agent=navigator.userAgent.toLowerCase();var iLastTouch=null;if(agent.indexOf("iphone")>=0||agent.indexOf("ipad")>=0){doc.body.addEventListener("touchend",function(event){var iNow=(new Date).getTime();iLastTouch=iLastTouch||iNow+1;var delta=iNow-iLastTouch;if(delta<500&&delta>0){event.preventDefault();return false}iLastTouch=iNow},false)}doc.body.addEventListener("touchstart",function(){})})()};if(!doc.addEventListener)return;win.addEventListener(resizeEvt,recalc,false);doc.addEventListener("DOMContentLoaded",recalc,false);doc.addEventListener("DOMContentLoaded",userMove,false);doc.addEventListener("DOMContentLoaded",init,false)})(window.document,window);